# ₿ Bitcoin-Conflict-Survival-Analysis
## R 생존 분석을 활용한 비트코인 가격 변동성 연구

본 README는 **생존 분석(Survival Analysis)** 기법을 활용하여 전쟁고 같은 **지정학적 위험(Geopolitical Risk)** 이 
비트코인(Bitcoin) 가격 변동성에 미치는 영향을 분석한 연구 프로젝트를 소개합니다.

## 📌 프로젝트 개요 및 연구 배경
본 연구는 러시아-우크라이나 전쟁과 이란-이스라엘 충돌 기간 동안의 비트코인 일별 종가 데이터를 사용하여, 
비트코인 **가격이 일정 수준 이상으로 급변하는 '이벤트'** 가 발생하기까지 걸리는 시간을 **카플란-마이어(Kaplan-Meier) 추정법**과 
**Cox 비례 위험 모델(Cox Proportional Hazards Model)**을 기반으로 비교 분석했습니다.

## 💡 주요 연구 결과
분석 결과, 두 전쟁 모두 비트코인 가격 변동성이 3% 이상으로 커지는 위험도를 높이는 요인으로 작용했지만, 그 영향력의 크기에는 유의미한 차이가 있었습니다.

## 위험도 비교 (Hazard Ratio): 가격 변동 이벤트 발생 위험도(Hazard Ratio)는
이란-이스라엘 충돌 시 1.52441로, 러시아-우크라이나 전쟁 시의 1.43533보다 높게 나타나, 전자의 충돌이 비트코인 가격 변동에 더 두드러진 영향을 미쳤음을 시사합니다.

**이란-이스라엘 충돌 시 위험도 (HR)**
-Hazard Ratio (HR):1.52441 4444, p-value $3.19e-15$로, 매우 유의미한 수준에서 모델이 검증되었습니다.
-이 수치는 다른 조건이 동일할 때, 이란-이스라엘 전쟁 상황이 러시아-우크라이나 전쟁 상황(기준 그룹)에 비해 비트코인 가격 변동성 이벤트(3% 이상 급변)가 발생할 **위험(Hazard)**이 약 1.52441배 더 높다는 것을 의미합니다.
-이란-이스라엘 충돌 기간 동안 비트코인 가격이 3% 이상 급변할 확률이 다른 기간보다 더 컸음을 시사합니다.
<img width="938" height="201" alt="image" src="https://github.com/user-attachments/assets/c97a16e8-d0eb-4604-983f-f32057ce8610" />

**러시아-우크라이나 전쟁 시 위험도 (HR)**
-Hazard Ratio (HR): 1.43533 888,p-value $2.19e-15$로, 이 역시 매우 유의미한 결과를 나타냈습니다
-이 전쟁 상황 역시 비트코인 가격 변동성 이벤트 발생 위험을 약 1.43533배 증가시키는 것으로 나타났습니다.
<img width="956" height="241" alt="image" src="https://github.com/user-attachments/assets/dcc90942-8823-4c30-b3c6-1300c400e43e" />

**summary** 
-이란-이스라엘 충돌이 비트코인 가격 변동성에 미치는 영향이 러시아-우크라이나 전쟁보다 상대적으로 더 두드러지게 나타났음을 정량적으로 시사합니다. 
두 전쟁 모두 변동 위험을 증가시키는 요인(HR > 1)이었지만, 전자의 충돌이 비트코인 가격에 더 심한 급변동을 초래하는 결과를 가져왔습니다.

-다음 그래프는 두 전쟁을 변수로 설정하고 생존분석을 실시한 결과입니다.
<img width="912" height="393" alt="image" src="https://github.com/user-attachments/assets/b979fda1-2a1a-4bc5-aafe-9236af709896" />

- 이 결과를 통해 두 전쟁의 정도의 차이는 있지만 비트 코인 가격에 유의미한 변동을 초래했음을 시사합니다.

## 💻 분석 코드 (analysis.R 주요 로직)
본 분석은 survival 및 survminer 패키지를 사용하여 수행되었으며, 가격 변동(3% 이상 변동)을 **사건(Event)**으로 정의하고,
관측 일수를 **생존 시간(Survival_time)**으로 설정하는 것이 핵심입니다.

### 01. 데이터 전처리및 통합
#### 전쟁기간 설정
  * **이란 이스라엘**
    -*분석 시작 시잠*: 2023년 10월 가자 전쟁 발발 이후, 2024년 초부터 이란의 대리 세력(후티 반군)을 통한 지역적 긴장이 급격히 고조되었으며,
    이는 2024년 4월의 직접적인 공방으로 이어졌습니다. 연구는 이 가장 최근의 고조된 위험 기간을 집중적으로 분석하기 위해 2024년 초를 기점으로 삼았습니다.
    
                     
  * **러시아 우크라이나**
    -*분석 시작 시잠*: 러시아가 우크라이나를 전면적으로 침공하며 전쟁이 대규모로 확전된 날짜로써
     금융 시장과 국제 경제에 미치는 영향이 극대화된 시점을 기준으로 분석하기 위해 해당 날자고 설정하였습니다. 

  * *분석 종료 시점*:분석 시점에 확보할 수 있었던 가장 최근의 데이터 시점까지를 연구의 종료 시점으로 삼았습니다. code:max(데이터$날짜, na.rm = TRUE)
```r
# 열 이름 설정 및 데이터 전처리

colnames(iran_isr_data) <- c("날짜", "종가", "시가", "고가", "저가", "거래량", "변동 %")

iran_isr_data$종가 <- as.numeric(gsub("[^0-9.-]", "", iran_isr_data$종가))

iran_isr_data$날짜 <- as.POSIXct(iran_isr_data$날짜, format = "%Y-%m-%d", tz = "UTC")

iran_isr_data <- iran_isr_data[!is.na(iran_isr_data$종가), ]

# 우크라이나-러시아 전쟁 기간 설정

start_date_ukr_rus <- as.POSIXct("2022-02-24", format = "%Y-%m-%d", tz = "UTC")

end_date_ukr_rus <- max(ukr_rus_data$날짜, na.rm = TRUE)


# 전쟁 기간 동안의 데이터 필터링

ukr_rus_data_filtered <- subset(ukr_rus_data, 날짜 >= start_date_ukr_rus & 날짜 <= end_date_ukr_rus)

ukr_rus_data_filtered$WarEvent <- "Ukraine-Russia War"


# 두 데이터 합치기

combined_data <- rbind(iran_isr_data_filtered, ukr_rus_data_filtered)

```

### 02. 이벤트 및 생존 시간 정의
-이벤트는 일별 종가의 로그 차분이 3%(log(1 + 0.03)) 이상 변동할 때로 정의됩니다.
```r
# 가격 변동 이벤트 정의 (3% 이상 변동 시 이벤트로 간주)
threshold <- 0.03
price_diff <- c(0, diff(log(combined_data$종가))) # 로그 차분 계산
event_indicator <- abs(price_diff) > log(1 + threshold)

# 이벤트 지표 및 생존 시간 추가
combined_data$Event <- as.integer(event_indicator)
combined_data$Survival_time <- seq_along(combined_data$Event) # 관측치별 고유 시간(일) 생성
```

### 03. 생존 분석 모델 적합 및 시각화 (Kaplan-Meier)

```r
# 가격 변동 이벤트 정의 (3% 이상 변동 시 이벤트로 간주)
# 생존 분석 모델 적합 (Kaplan-Meier)
fit <- survfit(surv_object ~ WarEvent, data = combined_data)

# 생존 곡선 플롯 (pval: 로그 순위 검정 p-value 표시, conf.int: 신뢰구간 표시)
ggsurvplot(fit, data = combined_data, pval = TRUE, conf.int = TRUE,
           title = "Survival Analysis of Bitcoin Price Changes During Conflicts",
           xlab = "Time (Days)", ylab = "Survival Probability",
           legend.labs = c("Iran-Israel Conflict", "Ukraine-Russia War"))

```
## 🔍 연구의 한계 및 보완점 (Detailed Limitations and Future Research Directions)
본 연구는 비트코인 가격 변동성을 분석하는 데 **생존 분석(Survival Analysis)**이라는 새로운 방법론을 도입했다는 점에서 의의를 가집니다. 그러나 이 방법론의 특성과 데이터의 제약으로 인해 다음과 같은 한계점을 가지며, 이는 향후 연구에서 반드시 보완되어야 할 부분입니다.

### 1. 방법론적 한계 (Methodological Limitations)
#### (1) 생존 분석 vs. 시계열 분석의 적합성 문제
시계열 분석의 적합성: 주식이나 암호화폐 가격 데이터는 본질적으로 시간의 흐름에 따라 상호 의존성을 갖는 시계열 데이터입니다. 따라서 가격 변동의 크기와 방향, 그리고 **시점 간의 상관관계(Autocorrelation)**를 분석하는 데에는 GARCH 모델과 같은 변동성 시계열 분석 기법이 더 적합합니다.

#### 생존 분석의 제약: 생존 분석은 주로 '사건(Event)'이 발생할 때까지의 시간 간격 자체에 초점을 맞춥니다. 이 연구에서는 '3% 이상 가격 변동'을 사건으로 정의했지만, 변동성의 연속적인 크기나 변동의 방향(상승/하락) 등 시계열 분석이 제공하는 풍부한 정보를 간과하게 됩니다.

#### (2) 비례 위험 가정(Proportional Hazards Assumption)
Cox 모델의 기본 가정: Cox 비례 위험 모델은 각 변수(전쟁 이벤트)의 위험비(Hazard Ratio)가 시간이 흘러도 일정하게 유지된다는 **비례 위험 가정(Proportional Hazards Assumption)**을 전제로 합니다.

#### 현실과의 괴리: 실제 금융 시장에서 전쟁이 미치는 영향은 시간에 따라 변화합니다 (예: 전쟁 초기 충격, 장기화에 따른 시장 적응). 따라서 이 가정이 데이터에 충분히 부합하지 않을 경우, 도출된 Hazard Ratio의 신뢰도가 낮아질 수 있습니다.

#### 2. 데이터 및 변수 설정의 한계
#### (1) 단변량 분석 및 외부 변수 미포함
제한된 변수: 해당 분석은 **'전쟁 이벤트'**라는 단일 설명변수만을 사용하여 비트코인 가격 변동성을 분석했습니다.

* 보완 필요성: 비트코인 가격은 금리, 인플레이션, 거시 경제 지표, 규제 환경, 주요 기업 및 투자자들의 움직임 등 수많은 경제적·금융적 요소의 영향을 받습니다. 이러한 외부 변수들을 배제하고 전쟁 효과만을 분리하여 분석하는 것은 연구의 설명력과 현실 적용 가능성을 제한합니다.

#### (2) 변동성 측정 방법의 한정성
3% 임계치 설정: 본 연구는 가격 변동 이벤트의 기준으로 **일일 종가 로그 변화 3%**를 임의로 설정했습니다.

#### 보완 필요성: 3%라는 기준은 자의적일 수 있으며, 변동성 측정 방법 자체를 비교하지 않았습니다. 예를 들어, 표준편차, 분산, 변동성 지수(VIX와 유사한 암호화폐 변동성 지수) 등을 활용한 다른 변동성 정의 방법들이 결과에 어떤 영향을 미치는지에 대한 비교 평가가 부재합니다.

### 3. 향후 연구 및 보완 방향
위의 한계를 극복하고 연구의 질을 높이기 위한 후속 연구 방향은 다음과 같습니다:

* 다변량 분석 모델 추가:

-다중 Cox 모델: 금리, 거래량, 주가지수(예: S&P 500), 금 가격 등 외부 변수들을 통제 변수로 포함하여 다변량 Cox 비례 위험 모델을 개발함으로써, 전쟁 이벤트의 순수한 영향을 보다 정확하게 측정해야 합니다.

* 시간에 따른 변동성 변화 분석:

-시간 의존적 Hazard: 전쟁 초기, 중기, 후기에 따른 변동성의 패턴 변화를 분석하여 시장 참여자들의 **시간적 반응(Learning effect)**을 심층적으로 이해해야 합니다. 이는 확률 과정 모델이나 시간 의존적 공변량을 포함하는 Cox 모델을 통해 수행될 수 있습니다.

* 다양한 변동성 정의 비교:

-일일 종가 변화율 외에도 ATR(Average True Range) 기반 변동성 등 다른 변동성 측정 지표를 사용하여 '가격 변동 이벤트'를 다양하게 정의하고, 각 정의가 생존 분석 결과에 미치는 영향을 비교 평가해야 합니다.

* 시계열 분석과의 병행:

-생존 분석으로 도출된 결과의 타당성을 검증하기 위해, GARCH, ARMA-GARCH 모델 등을 병행하여 변동성 자체를 예측하는 시계열 접근법과 결과를 비교하는 융합적 연구를 시도해야 합니다.
## 💾 데이터 및 출처
* 데이터 출처: 분석에 사용된 원본 데이터는 **'인베스팅닷컴'**에서 수집한 일별 비트코인 시세 데이터를 사용했습니다.

* 참고: 원본 .csv 파일(iran_isr_data.csv, ukr_rus_data.csv)은 저장소에 포함되어 있지 않습니다. 코드는 분석 방법론과 로직을 참고하는 용도로 활용해 주십시오.

## 📄 연구 논문 (Final Paper)
본 분석의 모든 과정과 상세 결과, 결론은 아래 PDF 논문 파일에서 확인하실 수 있습니다.

## ➡️ [연구 논문 바로가기 (PDF)] 
(러시아-우크라이나%20전쟁과%20이란-이스라엘%20전쟁에%20따른%20비트코인%20가격%20변동%20및%20투자%20전략.pdf)
